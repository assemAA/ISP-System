
<div class="d-flex align-items-center justify-content-center my-5">
  <div class="text-center container">
      <div class="form-head d-flex mb-3 align-items-start">
    
        <form class="text-start repeater row basic-form card-body row" [formGroup]="userform" (submit)="Add()">
            <div class="form-group col-md-6 my-3">
                <label class="form-label"> User Name</label>
                <input type="text" class="form-control" placeholder="Enter Group Name" formControlName="UserName">
                <ng-container *ngIf="submitted && userform.controls.UserName.errors">
                    <div *ngIf="userform.controls.UserName.errors['required']" class="form-text text-danger">User name is
                        required </div>
                </ng-container>
            </div>
            <div class="form-group col-md-6 my-3">
              <label class="form-label"> Mobile</label>
              <input type="text" class="form-control" placeholder="Enter Mobile" formControlName="Mobile">
              <ng-container *ngIf="submitted && userform.controls.Mobile.errors">
                  <div *ngIf="userform.controls.Mobile.errors['required']" class="form-text text-danger">Mobile is
                      required </div>
              </ng-container>
              <ng-container *ngIf="submitted&& userform.controls.Mobile.errors">
                <div *ngIf="userform.controls.Mobile.errors['pattern']" class="form-text text-danger">Mobile is
                  Numbers only</div>
               
              </ng-container>
          </div>
            <div class="form-group col-md-6 my-3">
                <label class="form-label"> Email</label>
                <input type="text" class="form-control" placeholder="Enter Email" formControlName="Email">
                <ng-container *ngIf="submitted && userform.controls.Email.errors">
                    <div *ngIf="userform.controls.Email.errors['required']" class="form-text text-danger">Email is
                        required </div>
                </ng-container>
            </div>
            <div class="form-group col-md-6 my-3">
                <label class="form-label"> Password</label>
                
                <input type="password" class="form-control" placeholder="Enter Password" formControlName="Password"  >
                <ng-container *ngIf="submitted && userform.controls.Password.errors">
                    <div *ngIf="userform.controls.Password.errors['required']" class="form-text text-danger">Password is
                        required </div>
                </ng-container>
            </div>
            <div class="form-group col-md-6 my-3">
                <label class="form-label"> Group</label>
                <select class="form-select"  formControlName="Group">
                    <option *ngFor="let group of groups" [value]="group.id">{{group.name}}</option>
                  </select>
                <ng-container *ngIf="submitted && userform.controls.Group.errors">
                    <div *ngIf="userform.controls.Group.errors['required']" class="form-text text-danger">Group is
                        required </div>
                </ng-container>
            </div>
            <div class="form-group col-md-6 my-3">
                <label class="form-label"> Branch</label>
                <select class="form-select"  formControlName="Branch">
                    <option *ngFor="let branch of branches" [value]="branch.id">{{branch.name}}</option>
                  </select>
                <ng-container *ngIf="submitted && userform.controls.Branch.errors">
                    <div *ngIf="userform.controls.Branch.errors['required']" class="form-text text-danger">Branch is
                        required </div>
                </ng-container>
            </div>
            <div class="form-group col-md-6 my-3">
                <label class="form-label"> Salary</label>
                <input type="text" class="form-control" placeholder="Enter Salary" formControlName="Salary" >
                <ng-container *ngIf="submitted && userform.controls.Salary.errors">
                    <div *ngIf="userform.controls.Salary.errors['required']" class="form-text text-danger">Salary is
                        required </div>
                </ng-container>
                <ng-container *ngIf="submitted&& userform.controls.Salary.errors">
                  <div *ngIf="userform.controls.Salary.errors['pattern']" class="form-text text-danger">Salary is
                    Numbers only</div>
                 
                </ng-container>
            </div>
           
            <div class="form-group col-md-6 my-3">
                <label class="form-label"> Status</label>  
                <div class="row">        
                    <div class="form-check col-md-2">
                        <input type="radio" name="Status" id="statuson" [value]="true" formControlName="Status">
                        <label for="statuson">
                          True
                        </label>
                    </div>
                    <div class="form-check col-md-2">
                        <input type="radio" name="Status" id="statusoff" [value]="false" formControlName="Status">
                        <label for="statusoff">
                          False
                        </label>
                    </div>
                  </div> 
                <ng-container *ngIf="submitted && userform.controls.Status.errors">
                    <div *ngIf="userform.controls.Status.errors['required']" class="form-text text-danger">Group Privlege is
                        required</div>
                </ng-container>


            </div>
            <div class=" row justify-content-center">
            <button type="submit" class="btn btn-primary col-md-2">{{userId?"Edit":"Add"}}</button>
            </div>
        </form>
    </div>
</div>
</div>


  

<div class="container table-responsive">
   
    <table class="table table-responsive-md">

        <thead>
          <tr>
            <th>
              <div class="page-indexer w-35 mx-auto">
        
    
                <nav aria-label="Page navigation example">
                    <ul class="pagination">
                      <li class="page-item">
                        <button [disabled]="$page === 1 ||  $totalItems === 0"  (click)="getUsers($page - 1)" class="page-link" href="#" aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                          <span class="sr-only">Previous</span>
                        </button>
                      </li>
                    
                      <li class="page-item">
                        <button [disabled]="($page * $pageSize) >= $totalItems ||  $totalItems === 0" (click)="getUsers($page + 1)" class="page-link" href="#" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                          <span class="sr-only">Next</span>
                        </button>
                      </li>
                    </ul>
                  </nav>
            </div>
             </th>
            <th scope="col"><strong>User Name</strong> </th>
            <th scope="col"><strong>Email</strong></th>
            <th scope="col"><strong>Phone Number</strong></th>
            <th scope="col"><strong>Branch</strong></th>
            <th scope="col"><strong>Group</strong></th>
            <th scope="col"><strong>Status</strong></th>
            <th></th>
        
          </tr>
        </thead>
        <tbody>
        
          <tr *ngFor="let user of Users">
            <th></th>
            <td>{{user.userName}}</td>
            <td>{{user.email}}</td>
            <td>{{user.phoneNumber}}</td>
            <td>{{user.branch}}</td>
            <td>{{user.group}}</td>
            <td>{{user.status}}</td>

         

            <td>
               
               
   <button class="btn btn-warning mx-1" routerLink="/user/Account/edit/{{user.id}}" routerLinkActive="bg-light rounded text-dark"
   [routerLinkActiveOptions]="{exact:true}"  ><span class="material-symbols-outlined">
     Edit
     </span></button>


                <button class="btn btn-danger" (click)="openDialog(user.id)"><span class="material-symbols-outlined">
                  Delete
                  </span> </button>

            </td>
          </tr>
        
        </tbody>
      </table>
    
</div>

